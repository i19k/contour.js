!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){const o=n(3),r=n(4),l=n(2);Triangle.prototype=new o,Triangle.prototype.constructor=function(e,t,n){this.vertices=[e,t,n]},Triangle.prototype.getTriangles=function(){return[this]},Triangle.prototype.getType=function(){let e=this.vertices[0].val,t=this.vertices[1].val,n=this.vertices[2].val;return r.equalTol(e,t)&&r.equalTol(t,n)?l.equilateral:e===t||t===n||e===n?l.isosceles:l.scalene},Triangle.prototype.getTriangles=function(e){let t=[],n=this.vertices.slice().sort(function(e,t){return e.val-t.val});switch(this.getType()){case l.scalene:{let e=r.findCoordinate(n[0],n[2],n[1].val);t=(t=t.concat(this.getSubTriangles(new Triangle(n[0],n[1],e)))).concat(this.getSubTriangles(new Triangle(e,n[1],n[2])))}break;case l.isosceles:{let o=null;n[0].val===n[2].val?(o=n[1],n[1]=n[2],n[2]=o):n[1].val===n[2].val&&(o=n[0],n[0]=n[2],n[2]=o);let l=null;if(n[0].val<n[2].val){let t=e.getValueInterval(n[0].val,n[2].val);(l=Object.keys(t)).sort(function(e,t){return parseFloat(e)-parseFloat(t)})}else{let t=e.getValueInterval(n[2].val,n[0].val);(l=Object.keys(t)).sort(function(e,t){return parseFloat(t)-parseFloat(e)})}let i=[];i.push(n[0]),i.push(n[1]);for(let e=0;e<l.length;e++){let t=r.findCoordinate(n[0],n[2],l[e]),o=r.findCoordinate(n[1],n[2],l[e]);i.push(t),i.push(o)}for(let e=0;e<i.length-2;e+=2){let n=new Triangle(i[e],i[e+1],i[e+2]),o=new Triangle(i[e+2],i[e+1],i[e+3]);t.push(n),t.push(o)}let s=new Triangle(i[i.length-2],i[i.length-1],n[2]);t.push(s)}break;case l.equilateral:t=t.concat([this])}return t.forEach(e=>e.master=this),t},Triangle.prototype.getColorTriangle=function(e){let t=0;for(let e=0;e<this.vertices.length;e++)t+=parseFloat(this.vertices[e].val);t/=this.vertices.length;let n=e.getColor(e.getMappedValue(t)),o=new ColorTriangle(this.vertices[0],this.vertices[1],this.vertices[2],n);return o.master=this.master?this.master:this,o},e.exports=Triangle},function(e,t){Vertex.prototype=Object(),Vertex.prototype.constructor=function(e,t,n,o){this.x=e,this.y=t,this.z=n,this.val=o},Vertex.prototype.toString=function(){return"("+this.x+","+this.y+","+this.z+")["+this.val+"]"},e.exports=Vertex},function(e,t){e.exports={equilateral:0,isosceles:1,scalene:2}},function(e,t){Element.prototype=Object(),Element.prototype.constructor=function(){this.vertices=[]},Element.prototype.getTriangles=function(e){return[]},e.exports=Element},function(e,t,n){"use strict";n.r(t),function(e){var t=n(1),o=n.n(t);e.exports={equalTol:(e,t,n=1e-6)=>Math.abs(e-t)<n,findCoordinate(e,t,n){let r=Math.abs(n-e.val),l=r/(r+Math.abs(n-t.val)),i=(t.x-e.x)*l,s=(t.y-e.y)*l,a=(t.z-e.z)*l;return new o.a(e.x+i,e.y+s,e.z+a,n)}}}.call(this,n(7)(e))},function(e,t,n){const o=n(6),r=n(1),l=n(0),i=n(10);e.exports=function(){$.getJSON("./model1.json",function(e){let t=new o;Object.keys(e.meshes).forEach(function(n){let o=e.meshes[n],s={},a=[];Object.keys(o.nodes).forEach(function(e){let t=o.nodes[e];s[e]=new r(t.point[0],t.point[1],t.point[2],t.u.lc1[0])}),Object.keys(o.elements).forEach(function(e){let t=o.elements[e],n=null;3===t.nodes.length&&(n=new l(s[t.nodes[0]],s[t.nodes[1]],s[t.nodes[2]])),4===t.nodes.length&&(n=new i(s[t.nodes[0]],s[t.nodes[1]],s[t.nodes[2]],s[t.nodes[3]])),null!==n&&(n.name=e,a.push(n))}),t.elements.addElements(a),console.log(t.elements)})})}},function(e,t,n){n(2),n(0);const o=n(8);Domain.prototype=Object(),Domain.prototype.constructor=function(e){this.opts={scaleFactor:1,showDeformedShape:!1,contourValuePath:null,displayValuePath:null},this.opts=Object.assign(this.opts,e),this.elements=[],this.colorMap=null,this.vals=[]},Domain.prototype.getGeometry=function(){let e=Math.max.apply(Math,this.elements.map(e=>Math.max.apply(Math,e.vertices.map(e=>e.val)))),t=Math.min.apply(Math,this.elements.map(e=>Math.min.apply(Math,e.vertices.map(e=>e.val))));this.colorMap=new o,Array.isArray(this.vals)?this.colorMap.init(this.vals,t,e):this.colorMap.init(10,t,e);let n=[];for(let e=0;e<this.elements.length;e++){this.elements[e].getTriangles().forEach(e=>n.push(e.getColorTriangle(this.colorMap)))}let r=new THREE.Geometry;for(let e=0;e<n.length;e++){for(let t=0;t<n[e].vertices.length;t++)n[e].vertices[t]in r.vertices||r.vertices.push(n[e].vertices[t]);let t=new THREE.Face3(r.vertices.indexOf(n[e].vertices[0]),r.vertices.indexOf(n[e].vertices[1]),r.vertices.indexOf(n[e].vertices[2]));t.colorTriangle=n[e],t.color=new THREE.Color(n[e].color.toRGBString()),r.faces.push(t)}return r.computeBoundingSphere(),r},Domain.prototype.draw=function(e){let t=this.getGeometry(),n=new THREE.MeshBasicMaterial({side:THREE.DoubleSide,vertexColors:THREE.FaceColors}),o=new THREE.Mesh(t,n);e.add(o)},e.exports=Domain},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){const o=n(9);ColorMap.prototype=Object(),ColorMap.prototype.constructor=function(){this.keys=[],this.colors=[],this.minValue=0,this.maxValue=0},ColorMap.prototype.getComponent=function(e){let t=0;return t=e<=-.75?0:e<=-.25?this.interpolate(e,0,-.75,1,-.25):e<=.25?1:e<=.75?this.interpolate(e,1,.25,0,.75):0,Math.round(1e6*t)/1e6},ColorMap.prototype.interpolate=function(e,t,n,o,r){return(e-n)*(o-t)/(r-n)+t},ColorMap.prototype.init=function(e,t,n){if(this.keys=[],this.colors=[],this.minValue=t,this.maxValue=n,Array.isArray(e)){this.keys.push(this.getMappedValue(this.minValue)),this.keys.push(this.getMappedValue(this.maxValue));for(let o=0;o<e.length;o++)e[o]>t&&e[o]<n&&this.keys.push(this.getMappedValue(e[o]))}else{let t=1.5/(e-1);for(let e=-.75;e<=.75;e+=t)this.keys.push(e)}this.keys.sort(function(e,t){return e-t});let r=1.3/(this.keys.length-1);for(let e=0;e<this.keys.length;e++){let t=e*r-.6,n=this.getComponent(t+.5),l=this.getComponent(t),i=this.getComponent(t-.5),s=Math.ceil(255*n),a=Math.ceil(255*l),c=Math.ceil(255*i),h=new o(s,a,c);this.colors.push(h)}this.colors.reverse()},ColorMap.prototype.getColor=function(e){for(let t=0;t<this.keys.length;t++)if(this.keys[t]>=e)return this.colors[t];return this.getColor(this.keys[this.keys.length-1])},ColorMap.prototype.getMappedValue=function(e){let t=this.maxValue-this.minValue;return(e-this.minValue)/t*1.5-.75},ColorMap.prototype.getValue=function(e){return(e+.75)/1.5*(this.maxValue-this.minValue)+this.minValue},ColorMap.prototype.getValueInterval=function(e,t){let n=this.getMappedValue(e),o=this.getMappedValue(t),r=this.keys.filter(function(e){return e<Math.max(n,o)&&e>Math.min(n,o)}).sort((e,t)=>parseFloat(e)-parseFloat(t)),l={};for(let e=0;e<r.length;e++)l[this.getValue(parseFloat(r[e]))]=this.colors[r[e]];return l},e.exports=ColorMap},function(e,t){Color.prototype=Object(),Color.prototype.constructor=function(e,t,n){this.r=e,this.g=t,this.b=n},Color.prototype.toRGBString=function(){return`rgb(${this.r}, ${this.g}, ${this.b})`}},function(e,t,n){const o=n(3),r=n(0),l=n(4);Rectangle.prototype=new o,Rectangle.prototype.constructor=function(e,t,n,o){this.vertices=[e,t,n,o]},Rectangle.prototype.getTriangles=function(){return[new r(this.vertices[0],this.vertices[1],this.vertices[2]),new r(this.vertices[0],this.vertices[2],this.vertices[3])]},Rectangle.prototype.getVertexGroups=function(){let e=[],t=[];t.push(this.vertices[0]);for(let n=1;n<this.vertices.length;n++)l.equalTol(t[0].val,this.vertices[n].val)?t.push(this.vertices[n]):(e.push(t),t=[this.vertices[n]]);return e.push(t),this.normalizeGroups(e)},Rectangle.prototype.normalizeGroups=function(e){let t=e.slice();if(t.length>2&&l.equalTol(t[0][0].val,t[t.length-1][0].val)){for(let e=t[t.length-1].length-1;e>-1;e--)t[0].insert(0,t[t.length-1][e]);t.splice(t.length-1,1),t=this.normalizeGroups(t)}return t},Domain.prototype.getTriangles=function(e){let t=this.getSubRectangles(e),n=[];for(let e=0;e<t.length;e++)n=n.concat(t[e].getTriangles());return n.forEach(e=>e.master=this),n},Domain.prototype.getSubRectangles=function(e){if(this.vertices.length<4)return[this];let t=this.getVertexGroups();if(1===t.length)return[this];if(2===t.length){if(2===t[0].length&&2===t[1].length){let n=e.getValueInterval(t[0][0].val,t[1][0].val),o=Object.keys(n),r=[],i=t[0][1],s=t[0][0];for(let e=0;e<o.length;e++){let n=l.findCoordinate(t[0][1],t[1][0],o[e]),a=l.findCoordinate(t[0][0],t[1][1],o[e]);r=r.concat(new Rectangle(i,n,a,s)),i=n,s=a}return r=r.concat(new Rectangle(i,t[1][0],t[1][1],s))}if(1===t[0].length&&3===t[1].length)return[new r(t[0][0],t[1][0],t[1][2]),new r(t[1][0],t[1][1],t[1][2])];if(3===t[0].length&&1===t[1].length)return[new r(t[1][0],t[0][0],t[0][2]),new r(t[0][0],t[0][1],t[0][2])]}else if(3===t.length){let e=t.slice().sort((e,t)=>parseFloat(t[0].val)-parseFloat(e[0].val))[0],n=t.slice().sort((e,t)=>parseFloat(e[0].val)-parseFloat(t[0].val))[0],o=t.filter(t=>e!==t&&n!==t)[0],i=t.indexOf(o),s=t[i-1>-1?i-1:t.length-1],a=t[i+1<t.length?i+1:0];if(2===o.length){let t=l.findCoordinate(n[0],e[0],o[0].val);return[new r(s[0],o[0],t),new r(t,o[0],o[1]),new r(t,o[1],a[0])]}{let t=[],i=null,c=null,h=[];return 2===n.length?n===s?(i=l.findCoordinate(n[0],e[0],o[0].val),c=new r(i,o[0],e[0]),h=this.getSubRectangles(new Rectangle(n[1],o[0],i,n[0]))):n===a&&(i=l.findCoordinate(n[1],e[0],o[0].val),c=new r(i,e[0],o[0]),h=this.getSubRectangles(new Rectangle(n[1],i,o[0],n[0]))):2===e.length&&(e===s?(i=l.findCoordinate(n[0],e[0],o[0].val),c=new r(i,o[0],n[0]),h=this.getSubRectangles(new Rectangle(e[1],o[0],i,e[0]))):e===a&&(i=l.findCoordinate(n[0],e[1],o[0].val),c=new r(i,n[0],o[0]),h=this.getSubRectangles(new Rectangle(e[1],i,o[0],e[0])))),t.push(c),t=t.concat(h)}}return[this]},e.exports=Rectangle}]);